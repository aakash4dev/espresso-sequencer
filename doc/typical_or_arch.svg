<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1022px" preserveAspectRatio="none" style="width:1818px;height:1022px;background:#FFFFFF;" version="1.1" viewBox="0 0 1818 1022" width="1818px" zoomAndPan="magnify"><defs/><g><!--cluster L1--><g id="cluster_L1"><path d="M276.6,663 L294.6,663 A3.75,3.75 0 0 1 297.1,665.5 L304.1,685.4883 L952.6,685.4883 A2.5,2.5 0 0 1 955.1,687.9883 L955.1,1012.5 A2.5,2.5 0 0 1 952.6,1015 L276.6,1015 A2.5,2.5 0 0 1 274.1,1012.5 L274.1,665.5 A2.5,2.5 0 0 1 276.6,663 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="274.1" x2="304.1" y1="685.4883" y2="685.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="17" x="278.1" y="678.5352">L1</text></g><!--cluster Rollup--><g id="cluster_Rollup"><rect fill="none" height="269" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="617" x="306.1" y="714"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="113" x="558.1" y="729.5352">Rollup Contract</text></g><!--cluster BatchData--><g id="cluster_BatchData"><rect fill="none" height="186" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="545" x="346.1" y="765"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="140" x="548.6" y="780.5352">Data for Each Batch</text></g><!--cluster Proposal--><g id="cluster_Proposal"><rect fill="none" height="103" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="412" x="378.1" y="816"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="116" x="526.1" y="831.5352">Proposed States</text></g><!--cluster L2--><g id="cluster_L2"><path d="M430.6,139 L592.6,139 A3.75,3.75 0 0 1 595.1,141.5 L602.1,161.4883 L983.6,161.4883 A2.5,2.5 0 0 1 986.1,163.9883 L986.1,412 A2.5,2.5 0 0 1 983.6,414.5 L430.6,414.5 A2.5,2.5 0 0 1 428.1,412 L428.1,141.5 A2.5,2.5 0 0 1 430.6,139 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="428.1" x2="602.1" y1="161.4883" y2="161.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="161" x="432.1" y="154.5352">L2 (Optimistic Rollup)</text></g><!--entity Batch--><g id="elem_Batch"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="817.6" y="859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="827.6" y="882.5352">Batch</text></g><!--entity Root--><g id="elem_Root"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="657.1" y="859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="667.1" y="882.5352">State Root</text></g><!--entity Stake--><g id="elem_Stake"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="564.6" y="859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="574.6" y="882.5352">Stake</text></g><!--entity Challenge--><g id="elem_Challenge"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="127" x="402.6" y="859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="412.6" y="882.5352">Challenge State</text></g><!--entity Sequencer--><g id="elem_Sequencer"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="878.1" y="174"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="888.1" y="197.5352">Sequencer</text></g><!--entity Proposer--><g id="elem_Proposer"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="704.1" y="362.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="714.1" y="386.0352">Proposer</text></g><!--entity Challenger--><g id="elem_Challenger"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="467.6" y="362.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="477.6" y="386.0352">Challenger</text></g><!--entity RPC--><g id="elem_RPC"><rect fill="#F1F1F1" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="189" x="444.6" y="174"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="454.6" y="197.5352">Full Node (w/ JSON-RPC)</text></g><!--entity User--><g id="elem_User"><rect fill="#FFFFFF" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="513.6" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="523.6" y="30.5352">User</text></g><!--reverse link User to RPC--><g id="link_User_RPC"><path d="M508.18,44.16 C498.28,51.71 488.49,61.44 483.1,73 C473.71,93.14 475.6,102.08 483.1,123 C490.23,142.87 505.95,161.07 518.92,173.64 " fill="none" id="User-backto-RPC" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="512.12,41.3,502.4814,43.3242,508.0659,44.2264,507.1637,49.8109,512.12,41.3" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="484.1" y="103.0684">Read state</text></g><!--link User to RPC--><g id="link_User_RPC"><path d="M545.97,43.1 C549.13,51.88 552.52,62.84 554.1,73 C559.21,105.78 552,143.89 545.92,167.73 " fill="none" id="User-to-RPC" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="544.71,172.3,550.8699,164.6152,545.9832,167.4648,543.1336,162.5781,544.71,172.3" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="556.1" y="103.2236">Transactions</text><path d="M643.1,78 L643.1,118 L959.1,118 L959.1,88 L949.1,78 L643.1,78 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M949.1,78 L949.1,88 L959.1,88 L949.1,78 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="649.1" y="95.5684">1. User reads the current state from a full node</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="661.1" y="110.8789">and builds and submits a transaction.</text></g><!--link RPC to Sequencer--><g id="link_RPC_Sequencer"><path d="M633.78,192 C708.53,192 810.1,192 871.16,192 " fill="none" id="RPC-to-Sequencer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="876.16,192,867.16,188,871.16,192,867.16,196,876.16,192" style="stroke:#181818;stroke-width:1.0;"/><path d="M655.85,127 L655.85,167 L855.85,167 L855.85,137 L845.85,127 L655.85,127 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M845.85,127 L845.85,137 L855.85,137 L845.85,127 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="661.85" y="144.5684">2. Full node forwards</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="673.85" y="159.8789">transactions to sequencer.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="715.35" y="186.1895">Transactions</text></g><!--reverse link RPC to Sequencer--><!--link Sequencer to Batch--><g id="link_Sequencer_Batch"><path d="M970.2,192.31 C1089.04,191.62 1401.03,197.03 1465.1,271 C1528.83,344.57 1512.33,404.89 1465.1,490 C1333.93,726.39 991.12,836.94 880.83,867.15 " fill="none" id="Sequencer-to-Batch" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="876.28,868.38,886.0146,869.8759,881.1045,867.0668,883.9135,862.1567,876.28,868.38" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="1507.1" y="385.5684">Batches</text><path d="M1561.1,368 L1561.1,393 L1811.1,393 L1811.1,378 L1801.1,368 L1561.1,368 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1801.1,368 L1801.1,378 L1811.1,378 L1801.1,368 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="1567.1" y="385.5684">3. Sequencer finalizes batches on L1</text></g><!--reverse link Proposer to Batch--><g id="link_Proposer_Batch"><path d="M749.92,405.07 C767.4,490.65 827.29,783.88 842.54,858.57 " fill="none" id="Proposer-backto-Batch" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="748.94,400.29,746.8204,409.9081,749.9398,405.189,754.6589,408.3084,748.94,400.29" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="799.1" y="588.5342">Read batches</text><path d="M888.1,548 L888.1,619 L1071.1,619 L1071.1,558 L1061.1,548 L888.1,548 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1061.1,548 L1061.1,558 L1071.1,558 L1061.1,548 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="894.1" y="565.5684">4. State proposer reads</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="906.1" y="580.8789">batches from L1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="906.1" y="596.1895">executes them, and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="906.1" y="611.5">proposes the new state.</text></g><!--link Proposer to Root--><g id="link_Proposer_Root"><path d="M731.92,398.64 C713.59,423.68 681.29,472.44 669.1,520 C637.72,642.41 677.12,795.27 694.57,852.73 " fill="none" id="Proposer-to-Root" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="695.94,857.18,697.1102,847.4009,694.4666,852.402,689.4654,849.7584,695.94,857.18" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="670.1" y="588.5684">State</text></g><!--reverse link Challenger to Rollup--><g id="link_Challenger_Rollup"><path d="M461.11,389.94 C351.9,408.22 111.07,455.14 63.1,520 C6,597.22 67.3275,685.4375 143.6338,754.7362 C181.7869,789.3856 223.6847,819.3053 256.3961,840.7558 C272.7518,851.481 286.8109,860.0889 296.957,866.1121 C299.4935,867.6179 301.7855,868.9622 303.8077,870.1376 C304.3132,870.4314 304.8019,870.7147 305.2733,870.9873 C305.509,871.1237 305.7404,871.2573 305.9674,871.3883 " fill="none" id="Challenger-backto-Rollup" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="465.99,389.13,456.4583,386.6506,461.0569,389.945,457.7624,394.5436,465.99,389.13" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="64.1" y="580.8447">Read batches and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="72.1" y="596.1553">proposed state</text><path d="M180.1,525 L180.1,642 L467.1,642 L467.1,535 L457.1,525 L180.1,525 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M457.1,525 L457.1,535 L467.1,535 L457.1,525 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="186.1" y="542.5684">5. Other nodes act as challengers.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="198.1" y="557.8789">They execute the same batches.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="198.1" y="573.1895">If they compute a different state,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="198.1" y="588.5">they initiate a challenge. Otherwise,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="198.1" y="603.8105">some architectures may allow them to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="198.1" y="619.1211">add stake to the proposed state to show</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="198.1" y="634.4316">they agree with it.</text></g><!--link Challenger to Rollup--><g id="link_Challenger_Rollup"><path d="M518.93,398.98 C528.27,446.78 546.55,580.47 476.1,647 C461.5,660.79 401.81,642.5 386.1,655 C376.155,662.9163 367.5673,672.2305 360.1536,682.4788 C356.4467,687.6029 353.0333,692.9606 349.8904,698.4938 C348.319,701.2604 346.8152,704.0709 345.3761,706.918 C344.6566,708.3416 343.9533,709.7743 343.2658,711.2153 C342.9221,711.9357 342.5823,712.6583 342.2464,713.3828 " fill="none" id="Challenger-to-Rollup" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="342.2464,713.3828,349.6607,706.8999,344.3494,708.8466,342.4028,703.5352,342.2464,713.3828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="527.1" y="588.5684">Stake or challenge</text></g><!--reverse link RPC to Rollup--><g id="link_RPC_Rollup"><path d="M640.29,208.91 C692.2,220.39 754.72,239.58 804.1,271 C928.69,350.28 971.83,381.89 1024.1,520 C1044.08,572.79 1063.76,606.84 1024.1,647 C1011.65,659.61 400.38,644.5 386.1,655 C375.8613,662.5313 367.052,671.5552 359.4756,681.5904 C355.6873,686.6079 352.2073,691.8784 349.0108,697.3414 C347.4126,700.073 345.8853,702.8527 344.4258,705.673 C343.696,707.0832 342.9832,708.5035 342.287,709.9331 C341.9389,710.6478 341.5949,711.3649 341.255,712.0842 C341.0851,712.4438 340.9162,712.804 340.7483,713.1647 " fill="none" id="RPC-backto-Rollup" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="635.49,207.87,643.4405,213.6829,640.3769,208.9274,645.1324,205.8638,635.49,207.87" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1012.1" y="385.4316">State</text><path d="M1049.1,276 L1049.1,485 L1417.1,485 L1417.1,286 L1407.1,276 L1049.1,276 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1407.1,276 L1407.1,286 L1417.1,286 L1407.1,276 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="1055.1" y="293.5684">6. Full nodes update their state based on the L1.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1055.1" y="308.8789">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="1067.1" y="324.1895">They can read states from the L1 with different</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1067.1" y="339.5">levels of finality:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307" x="1067.1" y="354.8105">* proposed: fast pre-confirmation, may be rolled</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1075.1" y="370.1211">back if challenged.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="1067.1" y="385.4316">* staked: a large amount of stake has been placed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280" x="1075.1" y="400.7422">on a proposed state which will be lost if it is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="1075.1" y="416.0527">rolled back, providing relatively fast</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="1075.1" y="431.3633">cryptoeconomic finality.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="1067.1" y="446.6738">* finalized: the full challenge period (often 1 week)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="1075.1" y="461.9844">has passed, and the state has not been successfully</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="1075.1" y="477.2949">challenged. Now it can never be rolled back.</text></g><!--link Sequencer to Proposer--><!--link RPC to Challenger--><!--link Proposal to Batch--><!--SRC=[TLLBZ-Cs3BxxLn3feRF59CLi7uSvzD1f5sWHx2mcM_JGzi38T2n4bbn9NjTRp7ylHVcLTEOIEnGVt_UHeiDPsnOzDg1SqpfBDXxYO0WygOZsPAWevXFuBP27BtwlTMHpY-gC9uBz7VnRm18FcoTdJDV2WxFHeueRm02ZBNbU-Fw44Q5o7dv6LSEF65Kj_l8cXpda8YYx_T_-mRlM1IhX435Ia4JPXcRESn4XZWpEJIXTVCNjJ9kNJXvgD8Oiwo2f9Cji6mEUY-dtkNWk5kKs-xTmyzX6tUWGjHerUYCv-EXIrGFztP5Lv2-i8-DBurp_qhnvrna3xrr9SDD_3RyU7jzldpuyv7hyah3n0xPTk_qXz_eUdWXB28bQ8PPjwNhBnydn7Zvwj85Rh9qDXNKifTUdEeAhm6XxBkvsEO_dB05YJQ0wxnCOIGcLTmrm_nCmoy2IK6XBE7RQS41w3TsnqP7V8Ix5TWNnKIeuGfQo36jMwKLmqRKpjBSxU3ULJGFOeoz3ghygmv0TX2dbgkXIPj93HfABofDU5EERtGfUfIqQ_Pa277C4ECjNQSKhPypDcDeyDUJuUfLlTtaIePrYHFp4RAeagk_lRfED_Y7LyLr9pMbka-B9EiRcbbdgSxjM0io0vddWcyFef3Jt9D_s37uPnolugTgVjfqkRPwo5oXzjuD71kAbLnobOffODQSDkuJvOqt3H4Tm1sneAYKUlrJ9FiYLI4u8fQugMkPH514NRNNKA3vpdH55hqDs38xperTf7QhOUORMu03ixNgHawT71heKRkSqVmBiah7CMEtwkJQUF17qEjQWuqhpbOwBwgApwCxvUOtEQA-QaE_huJM9lr_TXW1TMs8MKViHv14JO9xHH61_jojcoHLQ6R7iE4vNzieaPf5JYA5FP4Agcsz07EwJ-QjPb7keC4J-IrlbRALzW-agtegsHyRDhAZCc_N8YnHqjP0kTpcPoCsf40nwthJOkCuAszo8ckVdI6IXDQYcR4mEhtlJrvelOQzP6gvj72FZUff_GmxAS0J9RGh-f4jjJoo8OTXCTH0wsLVveOsEc9PhUDrF0eoOfut0i9DwiXDdOj2Irww46rT5XitA4ftVvBI9J8k1GSlzpRClwDC9DpjJ3PrI54BAEunu5jduiz0dMgcPbbla5wc5sthXVWbx75mNrrlGK1N_g7LPalqhJzlrZboTpXyjMTrNXwkFr_pfpkjzvIIxiVWF]--></g></svg>